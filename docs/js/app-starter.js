var C=document.querySelector("#drumSet"),d=document.querySelector("#btnPlay"),R=document.querySelector("#btnRandom"),r=document.querySelector("#bpm"),a=document.querySelector("#gridRows"),n=document.querySelector("#gridColumns"),x=n.value,N=a.value,v=!1,E=document.querySelector('[data="instrumentsStyle"]'),f=[],c=["KICK","SNARE","HI-HAT","CRASH","RIDE","COW-BELL","TOM-1","TOM-2","SPLASH"],l,o=null,i=null;var u=null;window.addEventListener("DOMContentLoaded",T);function T(){A(),k(),m(),s()}function k(){localStorage.getItem("bpmInput")==null||localStorage.getItem("bpmInput")=="false"?localStorage.setItem("bpmInput",r.value):r.value=localStorage.getItem("bpmInput"),localStorage.getItem("gridRows")==null||localStorage.getItem("gridRows")=="false"?localStorage.setItem("gridRows",a.value):a.value=localStorage.getItem("gridRows"),localStorage.getItem("gridColumns")==null||localStorage.getItem("gridColumns")=="false"?localStorage.setItem("gridColumns",n.value):n.value=localStorage.getItem("gridColumns")}function A(){try{AudioContext=window.AudioContext||window.webkitAudioContext,l==null&&(l=l||new AudioContext,u=l.createGain(),u.gain.value=.5,u.connect(l.destination),o=l.createOscillator(),i=l.createGain(),o.connect(i),o.type="triangle",i.connect(u))}catch(t){}}function m(){f=[],C.innerHTML="",E.innerHTML="";for(let e=0;e<a.value;e++){let p=document.createElement("div");p.classList.add(c[e]+"-set");let I=document.createElement("span");I.innerHTML=c[e],p.appendChild(I);let L=document.createElement("section");for(let w=0;w<n.value;w++){let S=document.createElement("div");var t=q();e==0?(f.push(t),t&&S.classList.add(c[e]+"-active")):(e==1&&!f[w]&&t||e>1&&t)&&S.classList.add(c[e]+"-active"),L.appendChild(S)}console.log(f),p.appendChild(L),C.appendChild(p),E.innerHTML+=`
        .${c[e]}-set > section > div{border: 2px solid hsl(${(e*30+180)%360}deg 50% 40% / 80%)}
        .${c[e]}-set section div.${c[e]}-active{background-color: hsl(${e*30}deg 50% 40% / 80%)}`}}var h;clearInterval(h);var g=0;"vibrate"in navigator&&(navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate);function b(){d.classList.add("playing"),v=!0,d.value="PAUSE",clearInterval(h),g=0,h=setInterval(function(){for(let t=0;t<a.value;t++)document.querySelector("#drumSet").childNodes[t].childNodes.item(1).childNodes.forEach(e=>e.classList.remove("active"));for(let t=0;t<a.value;t++)document.querySelector("#drumSet").childNodes[t].childNodes.item(1).childNodes[g].classList.add("active");g%n.value<=0?(o=l.createOscillator(),i=l.createGain(),o.connect(i),o.type="triangle",o.frequency.value=440,i.connect(u),o.start(0),i.gain.exponentialRampToValueAtTime(1e-5,l.currentTime+.3),navigator.vibrate([50])):(o=l.createOscillator(),i=l.createGain(),o.connect(i),o.type="triangle",o.frequency.value=300,i.connect(u),o.start(0),i.gain.exponentialRampToValueAtTime(1e-5,l.currentTime+.15),navigator.vibrate([30])),g++,g%=n.value},60*1e3/r.value)}R.onclick=function(){m()};d.onclick=function(){v?y():b()};r.addEventListener("change",()=>{r.value>200&&(r.value=200),r.value<20&&(r.value=20),v&&b(),localStorage.setItem("bpmInput",r.value),s()});a.addEventListener("change",()=>{y(),a.value<2?a.value=2:a.value,a.value>9?a.value=9:a.value,localStorage.setItem("gridRows",a.value),m(),s()});n.addEventListener("change",()=>{y(),n.value<5?n.value=5:n.value,n.value>32?n.value=32:n.value,localStorage.setItem("gridColumns",n.value),m(),s()});function y(){d.classList.remove("playing"),clearInterval(h),v=!1,d.value="PLAY"}function q(){return Math.round(Math.random())}document.addEventListener("keyup",H,!1);function H(t){var e=t.code.toUpperCase();switch(console.log(e),e){case"SPACE":v?y():b();break;case"ENTER":m();break;default:break}}window.addEventListener("resize",s);window.addEventListener("orientationchange",s());function s(){var t=document.querySelector('[data="crutch"]');t.innerHTML=`#drumSet > div > section > div{height: ${window.innerHeight/(a.value+1)}vh;
                                                            width: ${80/n.value}vw}
    #drumSet > div{height: ${window.innerHeight/(a.value+1)}vh}
    `,console.log(a.value)}
//# sourceMappingURL=app-starter.js.map
